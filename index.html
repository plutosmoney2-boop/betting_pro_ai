<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Grandbetting_ai — ИИ прогноз по матчу</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        :root {
            --accent: #ffcc00;
            --accent-soft: #ffe766;
            --danger: #ff4d4d;
            --text-main: #111111;
            --text-muted: #6b7280;
            --card-bg: #ffffff;
            --border-soft: rgba(0,0,0,0.08);
            --bg-page: #f5f5f7;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: var(--bg-page);
            color: var(--text-main);
            line-height: 1.6;
        }

        a { color: #2563eb; text-decoration: none; }
        a:hover { text-decoration: underline; }

        .page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            padding: 18px 32px;
            border-bottom: 1px solid var(--border-soft);
            background: #ffffff;
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            letter-spacing: 0.06em;
            font-size: 18px;
            text-transform: uppercase;
        }

        .logo-mark {
            width: 32px;
            height: 32px;
            border-radius: 10px;
            background: radial-gradient(circle at 30% 20%, #ffffff 0, #ffcc00 30%, #ff9100 55%, #d400ff 100%);
            box-shadow: 0 0 24px rgba(255, 204, 0, 0.8);
        }

        main {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 32px 16px;
        }

        .screen {
            width: 100%;
            max-width: 1200px;
            background: #ffffff;
            border-radius: 24px;
            border: 1px solid var(--border-soft);
            padding: 28px 32px;
            box-shadow: 0 18px 45px rgba(15,23,42,0.08);
        }

        .screen-title {
            font-size: 26px;
            margin-bottom: 8px;
        }

        .screen-sub {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 22px;
            font-size: 14px;
            border-radius: 999px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.18s ease-out;
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ffcc00, #ff9100);
            color: #111111;
            font-weight: 600;
            box-shadow: 0 0 18px rgba(255, 204, 0, 0.5);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 0 26px rgba(255, 204, 0, 0.75);
        }

        .btn-ghost {
            background: transparent;
            border-color: var(--border-soft);
            color: var(--text-main);
        }

        .btn-ghost:hover {
            border-color: #9ca3af;
            color: #111111;
        }

        .form-group { margin-bottom: 14px; }

        label {
            display: block;
            font-size: 14px;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid var(--border-soft);
            background: #f9fafb;
            color: var(--text-main);
            font-size: 14px;
        }

        .input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 1px rgba(255,204,0,0.5);
            background: #ffffff;
        }

        .error {
            font-size: 12px;
            color: var(--danger);
            margin-top: 3px;
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 6px;
        }

        .screen-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 12px;
        }

        /* Экран 2 */

        .step-two {
            display: none;
        }

        .step-two-grid {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
            gap: 24px;
            margin-top: 10px;
        }

        .form-card,
        .result-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 14px 16px;
            border: 1px solid var(--border-soft);
            font-size: 14px;
        }

        .result-status {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #6b7280;
            margin-bottom: 6px;
        }

        .result-main {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .result-meta {
            font-size: 13px;
            color: var(--text-muted);
        }

        .result-block-title {
            font-weight: 600;
            margin-top: 10px;
            margin-bottom: 4px;
        }

        .result-list {
            margin: 0;
            padding-left: 20px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .result-list li {
            margin-bottom: 4px;
        }

        @media (max-width: 992px) {
            header { padding: 14px 16px; }
            .screen { padding: 20px 16px; }
        }

        @media (max-width: 768px) {
            .step-two-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
<div class="page">
    <header>
        <div class="nav">
            <div class="logo">
                <div class="logo-mark"></div>
                <span>Grandbetting_ai</span>
            </div>
        </div>
    </header>

    <main>
        <div class="screen">

            <!-- ШАГ 1: ВВОД ID / РЕГИСТРАЦИЯ -->
            <div class="step-one" id="step-one">
                <h1 class="screen-title">Введите ваш ID от Melbet</h1>
                <p class="screen-sub">
                    Чтобы пользоваться ботом и получать прогнозы, нужен подтверждённый ID аккаунта Melbet.
                    ID должен состоять ровно из 9 цифр. Если ID ещё нет — пройдите регистрацию по нашей ссылке.
                </p>

                <div class="form-group">
                    <label for="melbet-id">ID Melbet (9 цифр)</label>
                    <input
                        type="text"
                        id="melbet-id"
                        class="input"
                        inputmode="numeric"
                        maxlength="9"
                        placeholder="Например: 123456789"
                        autocomplete="off"
                    >
                    <div class="error" id="id-error"></div>
                    <p class="form-hint">
                        После проверки ID откроется форма матча: команды + дата, а затем детальный прогноз от AI.
                    </p>
                </div>

                <div class="screen-actions">
                    <button class="btn btn-primary" id="confirm-id-btn">Подтвердить ID</button>
                    <a href="https://clck.ru/3Mo7a2" target="_blank" rel="noopener" class="btn btn-ghost">
                        Нет ID — зарегистрироваться
                    </a>
                </div>
            </div>

            <!-- ШАГ 2: МАТЧ + ДАТА + ПРОВЕРКА НА MELBET + ПРОГНОЗ -->
            <div class="step-two" id="step-two">
                <h2 class="screen-title">Укажите матч и дату</h2>
                <p class="screen-sub">
                    Введите команды в формате «Реал Мадрид - Барселона» и выберите дату матча в календаре.
                    Сначала проверяется наличие матча по линии Melbet, затем AI ищет и собирает прогноз по этому событию.
                </p>

                <div class="step-two-grid">
                    <!-- ЛЕВАЯ ЧАСТЬ: ФОРМА МАТЧА -->
                    <div class="form-card">
                        <div class="form-group">
                            <label for="match-title">Матч (формат: Команда A - Команда B)</label>
                            <input
                                type="text"
                                id="match-title"
                                class="input"
                                placeholder="Например: Реал Мадрид - Барселона"
                            >
                            <div class="error" id="match-error"></div>
                            <p class="form-hint">
                                Формат строго через дефис: «Хозяева - Гости». Названия можно вводить по-русски или на латинице.
                            </p>
                        </div>

                        <div class="form-group">
                            <label for="match-date">Дата матча</label>
                            <input
                                type="date"
                                id="match-date"
                                class="input"
                            >
                            <div class="error" id="date-error"></div>
                            <p class="form-hint">
                                Выберите дату в календаре. Матч будет проверен по линии Melbet на эту дату.
                            </p>
                        </div>

                        <button class="btn btn-primary" id="analyze-btn">
                            Найти матч и прогноз
                        </button>

                        <p class="form-hint" style="margin-top: 10px;">
                            Если по этой дате и парам команд нет футбольного матча на линии Melbet, вы увидите сообщение,
                            что такой игры в этот день нет. В остальных случаях AI выйдет в интернет и соберёт прогноз.
                        </p>
                    </div>

                    <!-- ПРАВАЯ ЧАСТЬ: ПРОГНОЗ / ОШИБКИ -->
                    <div class="result-card" id="result-card">
                        <div class="result-status">Прогноз от AI</div>
                        <div class="result-main">
                            Заполните название команд и выберите дату, затем нажмите «Найти матч и прогноз».
                        </div>
                        <div class="result-meta">
                            В ответ вы получите структурированный разбор по матчу: исходы (П1/Х/П2), тоталы, примерные коэффициенты
                            и пояснение логики. AI использует данные из открытых источников и линию букмекеров.
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const stepOne = document.getElementById('step-one');
    const stepTwo = document.getElementById('step-two');
    const confirmIdBtn = document.getElementById('confirm-id-btn');
    const idInput = document.getElementById('melbet-id');
    const idErrorEl = document.getElementById('id-error');

    const matchTitleInput = document.getElementById('match-title');
    const matchDateInput = document.getElementById('match-date');
    const matchErrorEl = document.getElementById('match-error');
    const dateErrorEl = document.getElementById('date-error');
    const analyzeBtn = document.getElementById('analyze-btn');
    const resultCard = document.getElementById('result-card');

    // Валидация: только цифры для ID, максимум 9
    idInput.addEventListener('input', function () {
        this.value = this.value.replace(/[^0-9]/g, '').slice(0, 9);
    });

    // Шаг 1 — подтверждение ID (ровно 9 цифр)
    confirmIdBtn.addEventListener('click', function () {
        idErrorEl.textContent = '';
        const value = idInput.value.trim();
        const isNineDigits = /^[0-9]{9}$/.test(value);

        if (!isNineDigits) {
            idErrorEl.textContent = 'ID должен состоять ровно из 9 цифр.';
            return;
        }

        // TODO: здесь вы добавляете реальную проверку ID через ваш backend

        stepOne.style.display = 'none';
        stepTwo.style.display = 'block';
    });

    // Шаг 2 — поиск матча и прогноз
    analyzeBtn.addEventListener('click', function () {
        matchErrorEl.textContent = '';
        dateErrorEl.textContent = '';

        const matchTitleRaw = matchTitleInput.value.trim();
        const matchDate = matchDateInput.value;

        let valid = true;

        const parts = matchTitleRaw.split('-').map(p => p.trim()).filter(Boolean);
        if (parts.length !== 2) {
            matchErrorEl.textContent = 'Введите команды в формате: Команда A - Команда B.';
            valid = false;
        }

        if (!matchDate) {
            dateErrorEl.textContent = 'Выберите дату матча в календаре.';
            valid = false;
        }

        if (!valid) return;

        const homeTeam = parts[0];
        const awayTeam = parts[1];

        // Шаг 2.1 — проверка матча по линии Melbet (реально через backend)
        resultCard.innerHTML = `
            <div class="result-status">Проверка матча по линии Melbet…</div>
            <div class="result-main">
                ${homeTeam} — ${awayTeam}, дата: ${matchDate}
            </div>
            <div class="result-meta">
                Идёт проверка наличия футбольного матча на выбранную дату по линии Melbet.
                Пожалуйста, подождите несколько секунд.
            </div>
        `;

        // В реальном приложении здесь делаете fetch на ваш API, который ходит на Melbet:
        // fetch('/api/check-match', { method: 'POST', body: JSON.stringify({ homeTeam, awayTeam, date: matchDate }) })
        //   .then(...) и т.д.
        //
        // Ниже — только имитация логики:
        setTimeout(function () {
            const matchExistsOnMelbet = true; // TODO: заменить на реальный ответ backend

            if (!matchExistsOnMelbet) {
                resultCard.innerHTML = `
                    <div class="result-status">Матч не найден на линии Melbet</div>
                    <div class="result-main">
                        ${homeTeam} — ${awayTeam}, дата: ${matchDate}
                    </div>
                    <div class="result-meta">
                        По указанной дате на линии Melbet не найден футбольный матч с такими командами.
                        Проверьте правильность написания и дату. Такой игры в этот день нет.
                    </div>
                `;
                return;
            }

            // Шаг 2.2 — AI выходит в интернет, ищет прогноз и собирает разбор
            resultCard.innerHTML = `
                <div class="result-status">AI ищет прогноз и аналитику…</div>
                <div class="result-main">
                    ${homeTeam} — ${awayTeam}, дата: ${matchDate}
                </div>
                <div class="result-meta">
                    AI формирует запрос по названию команд и дате, анализирует открытые источники с прогнозами и статистикой,
                    включая профильные ресурсы с разбором матчей. Скоро появится структурированный прогноз.
                </div>
            `;

            // Имитация ответа от AI
            setTimeout(function () {
                resultCard.innerHTML = `
                    <div class="result-status">Расширенный прогноз AI</div>

                    <div class="result-main">
                        ${homeTeam} — ${awayTeam}, матч от ${matchDate}
                    </div>

                    <div class="result-meta">
                        <div class="result-block-title">1. Контекст матча</div>
                        <ul class="result-list">
                            <li>Матч ${homeTeam} — ${awayTeam} относится к категории принципиальных: команды регулярно борются за высокие места и привлекают
                                большой объём ставок со стороны игроков.</li>
                            <li>При анализе учитываются форма команд, статистика очных встреч, серия домашних и выездных матчей,
                                а также ориентировочные составы и возможная ротация.</li>
                        </ul>

                        <div class="result-block-title">2. Основной исход (П1 / Х / П2)</div>
                        <ul class="result-list">
                            <li><strong>Базовый вариант: П1 (победа ${homeTeam})</strong>, если хозяева стабильно набирают очки дома и создают больше моментов по xG.</li>
                            <li>Примерный диапазон коэффициента по линии на П1 в подобных матчах: ~1.70–2.20
                                в зависимости от конкретного состояния команд и движения рынка.</li>
                            <li>Аргументация: ${homeTeam} лучше контролирует мяч, чаще бьёт по воротам и выглядит более сбалансированной по линиям,
                                тогда как у ${awayTeam} есть провалы в обороне, особенно на выезде против сильных соперников.</li>
                        </ul>

                        <div class="result-block-title">3. Альтернативные исходы</div>
                        <ul class="result-list">
                            <li><strong>Более осторожный вариант: 1Х</strong> — хозяева не проиграют. Подходит для тех, кто снижает риск просадки банка.</li>
                            <li><strong>Фора 0 на ${homeTeam}</strong> — ставка с возвратом при ничьей, если есть уважение к атакующему потенциалу ${awayTeam},
                                но перевес по игре и мотивации всё равно на стороне хозяев.</li>
                        </ul>

                        <div class="result-block-title">4. Тоталы</div>
                        <ul class="result-list">
                            <li><strong>Тотал больше 2.5</strong> выглядит логичным, если обе команды играют в атакующей манере и регулярно пробивают
                                линию 3+ голов в очных встречах и последних турах.</li>
                            <li>Примерный диапазон коэффициентов на ТБ(2.5): ~1.70–2.20 в зависимости от ожиданий рынка и новостей по составам.</li>
                            <li>Для более аккуратной стратегии можно рассмотреть индивидуальный тотал ${homeTeam} больше 1.0 или 1.5 —
                                ставка на то, что хозяева забьют минимум один–два мяча.</li>
                        </ul>

                        <div class="result-block-title">5. Что можно рассматривать по линии</div>
                        <ul class="result-list">
                            <li>Основная идея: <strong>П1 или 1Х + тотал больше (комбинированные рынки)</strong>, если коэффициент остаётся приемлемым.</li>
                            <li>Для умеренного риска подойдут фора 0 на ${homeTeam} или индивидуальный тотал хозяев больше 1.0
                                с возможным возвратом при минимальном исходе.</li>
                            <li>При агрессивном подходе можно смотреть в сторону ТБ(2.5) или “обе забьют”, если статистика подтверждает результативность обеих сторон.</li>
                        </ul>

                        <div class="result-block-title">6. Риски и управление банком</div>
                        <ul class="result-list">
                            <li>На исход сильное влияние оказывают поздние новости: травмы лидеров,
                                изменения стартовых составов, погодные условия и мотивация в турнирной таблице.</li>
                            <li>Рынок коэффициентов может заметно двигаться в день матча, особенно на топовые игры,
                                поэтому важно не заходить по явно просевшему коэффициенту.</li>
                            <li><strong>Рекомендуется не превышать 3–5% от игрового банка</strong> на одну идею и воспринимать прогноз как аналитическую подсказку,
                                а не гарантию результата.</li>
                        </ul>

                        <div class="result-block-title">Важно</div>
                        <p class="result-meta">
                            Прогноз сформирован AI на основе анализа открытых источников с прогнозами и статистикой,
                            а также логики движения линии на подобные матчи. Это не является финансовой рекомендацией.
                            Окончательное решение по ставкам всегда остаётся за вами.
                        </p>
                    </div>
                `;
            }, 2000);
        }, 1500);
    });
});
</script>
</body>
</html>
